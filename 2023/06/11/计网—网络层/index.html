<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/icons/favicon-16*16.png?v=2.6.2" type="image/png" sizes="16x16"><link rel="icon" href="/icons/favicon-32*32.png?v=2.6.2" type="image/png" sizes="32x32"><meta name="description" content="网络层的几个重要概念">
<meta property="og:type" content="article">
<meta property="og:title" content="计网—网络层">
<meta property="og:url" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/">
<meta property="og:site_name" content="ic">
<meta property="og:description" content="网络层的几个重要概念">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/1.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/2.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/3.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/4.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/5.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/6.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/7.png">
<meta property="og:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/8.png">
<meta property="article:published_time" content="2023-06-11T06:21:00.000Z">
<meta property="article:modified_time" content="2023-06-13T10:30:55.793Z">
<meta property="article:author" content="ic">
<meta property="article:tag" content="学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/1.png"><title>计网—网络层 | ic</title><link ref="canonical" href="https://icreame.github.io/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/css/share.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.6.2"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":null},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":false},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":true},
  reward: false,
  fancybox: true,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"Copy","copySuccess":"Copy Success","copyError":"Copy Error"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">Home</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">Archives</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/categories/"><span class="header-nav-menu-item__icon"><i class="fas fa-layer-group"></i></span><span class="header-nav-menu-item__text">Categories</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/tags/"><span class="header-nav-menu-item__icon"><i class="fas fa-tags"></i></span><span class="header-nav-menu-item__text">Tags</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="about/"><span class="header-nav-menu-item__text">About</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">ic</div><div class="header-banner-info__subtitle">执着于理想，纯粹于当下。</div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">计网—网络层</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">Created</span><span class="post-meta-item__value">2023-06-11</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">Updated</span><span class="post-meta-item__value">2023-06-13</span></span></div></header><div class="post-body">
        <h1 id="网络层的几个重要概念">
          <a href="#网络层的几个重要概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#网络层的几个重要概念" class="headerlink" title="网络层的几个重要概念"></a>网络层的几个重要概念</h1>
      <span id="more"></span>

        <h2 id="网络层提供的两种服务">
          <a href="#网络层提供的两种服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#网络层提供的两种服务" class="headerlink" title="网络层提供的两种服务"></a>网络层提供的两种服务</h2>
      
        <h3 id="虚电路服务">
          <a href="#虚电路服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#虚电路服务" class="headerlink" title="虚电路服务"></a>虚电路服务</h3>
      <ul>
<li>可靠通信由网络来保证</li>
<li>面向连接</li>
<li>终点地址：仅在连接建立的阶段使用，每个分组使用短的虚电路号</li>
<li>分组的转发：使用同一条虚电路的分组均按照同一路由进行转发</li>
<li>所有通过故障的节点的虚电路均不能工作</li>
<li>分组的顺序：总是按发送的顺序到达终点</li>
<li>端到端的差错处理和流量控制：可以由网络，也可以由用户主机负责</li>
</ul>

        <h3 id="数据报服务">
          <a href="#数据报服务" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据报服务" class="headerlink" title="数据报服务"></a>数据报服务</h3>
      <ul>
<li>可靠通信由用户主机来保证</li>
<li>不需要面向连接</li>
<li>终点地址：每个分组都有终点的完整地址，即IP地址</li>
<li>分组的转发：每个分组独立查找转发表进行转发</li>
<li>出故障的节点可能会丢失分组，一些路由可能会发生变化</li>
<li>分组的顺序：到达终点的顺序不一定按发送的顺序</li>
<li>端到端的差错处理和流量控制：由用户主机负责</li>
</ul>

        <h2 id="网络层的两个层面">
          <a href="#网络层的两个层面" class="heading-link"><i class="fas fa-link"></i></a><a href="#网络层的两个层面" class="headerlink" title="网络层的两个层面"></a>网络层的两个层面</h2>
      <p>路由器之间传送的信息主要分为两大类（路由选择和分组转发）：</p>
<ul>
<li>转发源主机和目的主机之间所传送的数据</li>
<li>传送路由信息</li>
</ul>

        <h3 id="数据层面">
          <a href="#数据层面" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据层面" class="headerlink" title="数据层面"></a>数据层面</h3>
      <p>每个路由器根据本路由器生成的转发表，把收到的分组，从查找到的对应接口转发出去</p>

        <h3 id="控制层面">
          <a href="#控制层面" class="heading-link"><i class="fas fa-link"></i></a><a href="#控制层面" class="headerlink" title="控制层面"></a>控制层面</h3>
      <p>路由器和相邻的路由器之间交换路由信息，创建出本路由器的路由表   </p>

        <h1 id="网际协议IP">
          <a href="#网际协议IP" class="heading-link"><i class="fas fa-link"></i></a><a href="#网际协议IP" class="headerlink" title="网际协议IP"></a>网际协议IP</h1>
      <p>与IP配套使用的三个协议</p>
<ul>
<li>地址解析协议ARP</li>
<li>网际控制报文协议ICMP</li>
<li>网际组管理协议IGMP</li>
</ul>
<p><img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/1.png">    </p>

        <h2 id="虚拟互连网络">
          <a href="#虚拟互连网络" class="heading-link"><i class="fas fa-link"></i></a><a href="#虚拟互连网络" class="headerlink" title="虚拟互连网络"></a>虚拟互连网络</h2>
      <p>将网络互相连接在一起需要使用一些中间设备</p>
<ul>
<li>物理层：转发器</li>
<li>数据链路层：网桥或桥接器，以及交换机</li>
<li>网络层：路由器</li>
<li>网络层以上使用的是网关</li>
</ul>
<p><strong>虚拟互连网络：</strong> 也就是逻辑互连网络，它的意思就是互连起来的各种物理网络的异构性本来是客观存在的，但是我们利用协议IP就可以使这些性能各异的网络再网络层上看起来好像是一个统一的网络。</p>
<p><strong>好处:</strong> 当IP网上的主机进行通信的时候，就好像在一个单个网络上通信一样，他们看不见互连的各个网络的具体异构细节。</p>

        <h2 id="IP地址">
          <a href="#IP地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP地址" class="headerlink" title="IP地址"></a>IP地址</h2>
      <p>一个连接在互联网上的设备，如果没有IP地址，就无法和网上的其他设备进行通信  </p>

        <h3 id="IP地址及其表示方法">
          <a href="#IP地址及其表示方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP地址及其表示方法" class="headerlink" title="IP地址及其表示方法"></a>IP地址及其表示方法</h3>
      <ul>
<li>整个互联网就是一个单一的，抽象的网络</li>
<li>IP地址就是给连接到互联网上的每一台主机（或路由器）的每一个接口，分配一个在全世界范围内是唯一的32位的标识符。</li>
<li><strong>点分十进制记法</strong></li>
<li>32位的IP地址采用两级结构，由网络号和主机号两个字段组成。<ul>
<li>网络号：标志主机所连接到的网络（在整个互联网范围内必须是唯一的）</li>
<li>主机号：标志该主机（在所连接的网络中必须是唯一的）</li>
</ul>
</li>
<li>IP地址分两级的好处：<ul>
<li>IP地址管理机构在分配IP地址时只分配网络号，而剩下的主机号则由得到该网络号的单位自行分配。这样就方便了IP地址的管理。</li>
<li>路由器仅根据目的主机所连接的网络号来转发分组，这样就可以使路由表中的项目数大幅度减少，从而减少了路由表所占的内存空间。</li>
</ul>
</li>
<li>IP地址指明了连接到某个网络上的一个主机   </li>
<li>用转发器或网桥连接起来的若干个局域网仍为一个网络，因此局域网都具有同样的网络号net-id</li>
<li></li>
</ul>
<p><img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/2.png"></p>

        <h3 id="分类的IP地址">
          <a href="#分类的IP地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#分类的IP地址" class="headerlink" title="分类的IP地址"></a>分类的IP地址</h3>
      <ul>
<li>分类目的：各种网络的差异化很大，有的网络拥有很多主机，而有的网络上的主机则很少。把IP划分为A类、B类和C类是为了更好地满足不同用户的需求。</li>
<li>优点：由于网络号的位数是固定的，因此管理简单、使用方便、转发分组迅速、完全可以满足当时互联网在美国的需求。</li>
</ul>
<p><img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/3.png">  </p>
<p><img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/4.png">  </p>

        <h2 id="IP地址与硬件地址">
          <a href="#IP地址与硬件地址" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP地址与硬件地址" class="headerlink" title="IP地址与硬件地址"></a>IP地址与硬件地址</h2>
      <ul>
<li>IP地址与硬件地址是不同的地址<ul>
<li>硬件地址（或物理地址）是数据链路层和物理层使用的地址。</li>
<li>IP地址是网络层和以上的各层使用的地址，是一种逻辑地址（称IP地址为逻辑地址是因为IP地址是用软件实现的）</li>
</ul>
</li>
<li>在IP层抽象的互联网上只能看到IP数据报</li>
<li>路由器只根据目的站的IP地址进行转发</li>
<li>在局域网的链路层，只能看见MAC帧</li>
</ul>
<p>尽管互连在一起的网络的MAC地址体系各不相同，但IP层抽象的互联网却屏蔽了下层这些很复杂的细节。只要我们在网络层上讨论问题，就能够使用统一的、抽象的IP地址研究主机或路由器之间的通信。  </p>

        <h2 id="地址解析协议ARP">
          <a href="#地址解析协议ARP" class="heading-link"><i class="fas fa-link"></i></a><a href="#地址解析协议ARP" class="headerlink" title="地址解析协议ARP"></a>地址解析协议ARP</h2>
      <ul>
<li>解决主机或路由器根据IP地址找出相应的MAC地址的问题</li>
<li><strong>ARP要点</strong><ul>
<li>每一个主机都设有一个 ARP 高速缓存 (ARP cache)，里面有所在的局域网上的各主机和路由器的 IP 地址到硬件地址的映射表。</li>
<li>当主机 A 欲向本局域网上的某个主机 B 发送 IP 数据报时，就先在其 ARP 高速缓存中查看有无主机 B 的 IP 地址。<ul>
<li><p>如有，就可查出其对应的硬件地址，再将此硬件地址写入 MAC 帧，然后通过局域网将该 MAC 帧发往此硬件地址</p>
</li>
<li><p>如没有， ARP 进程在本局域网上广播发送一个 ARP 请求分组。收到 ARP 响应分组后，将得到的 IP 地址到硬件地址的映射写入 ARP 高速缓存。</p>
</li>
</ul>
</li>
</ul>
</li>
<li><strong>ARP请求分组：</strong>包含发送方硬件地址 &#x2F; 发送方 IP 地址 &#x2F; 目标方硬件地址(未知时填 0) &#x2F; 目标方 IP 地址。</li>
<li>本地广播 ARP 请求（路由器不转发ARP请求）</li>
<li><strong>ARP 响应分组：</strong>包含发送方硬件地址 &#x2F; 发送方 IP地址 &#x2F; 目标方硬件地址 &#x2F; 目标方 IP 地址。</li>
<li>ARP 分组封装在物理网络的帧中传输。</li>
<li><strong>ARP高速缓存的目的：</strong>存放最近获得的 IP 地址到 MAC 地址的绑定，以减少 ARP 广播的数量。<ul>
<li>为了减少网络上的通信量，主机 A 在发送其 ARP 请求分组时，就将自己的 IP 地址到硬件地址的映射写入 ARP 请求分组。</li>
<li>当主机 B 收到 A 的 ARP 请求分组时，就将主机 A 的这一地址映射写入主机 B 自己的 ARP 高速缓存中。这对主机 B 以后向 A 发送数据报时就更方便了。</li>
</ul>
</li>
<li>注意：<ul>
<li>ARP 用于解决<strong>同一个局域网</strong>上的主机或路由器的 IP 地址和硬件地址的映射问题。如果所要找的主机和源主机不在同一个局域网上，那么就要通过 ARP 找到一个位于本局域网上的某个路由器的硬件地址，然后把分组发送给这个路由器，让这个路由器把分组转发给下一个网络。剩下的工作就由下一个网络来做。</li>
<li>从 IP 地址到硬件地址的解析是自动进行的，主机的用户对这种地址解析过程是不知道的</li>
</ul>
</li>
</ul>

        <h2 id="IP数据报的格式">
          <a href="#IP数据报的格式" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP数据报的格式" class="headerlink" title="IP数据报的格式"></a>IP数据报的格式</h2>
      <ul>
<li>一个IP数据报是由<strong>首部</strong>和<strong>数据</strong>两部分组成的。<ul>
<li>首部的前一部分是固定的长度，共20字节，是所有IP数据报必须具有的</li>
<li>在首部的固定部分的后面是一些可选字段，其长度是可变的<br> <img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/5.png">  <blockquote>
<ul>
<li><strong>版本</strong>–占4位，指IP协议的版本</li>
<li><strong>首部长度</strong>–占4位，可表示的最大数值为15个单位（一个单位为4字节），因此IP的首部长度最大值为60字节。</li>
<li><strong>区分服务</strong>–占8位，用来获得更好的服务。</li>
<li><strong>总长度</strong>–占16位，指首部和数据之和的长度，单位为字节，因此数据报的最大长度为65535字节，<em>总长度必须不超过最大传送单元。</em>  </li>
<li><strong>标识</strong>–占16位，它是一个计数器，用来产生IP数据报的标识。  </li>
<li><strong>标志</strong>–占3位，目前只有前两位有意义。<br>*MF:*标志字段的最低位。MF&#x3D;1表示后面还有分片，MF&#x3D;0表示最后一个分片；<br>*DF:*标志字段中间的一位。只有当DF&#x3D;0时才允许分片。</li>
<li><strong>片偏移</strong>–占13位，指出较长的分组在分片后某片在原分组中的相对位移。（以8个字节为偏移单位）</li>
<li><strong>生存时间</strong>–占8位，记为TTL（Time To Live），指示数据报在网络中可通过的路由器的最大值。</li>
<li><strong>协议</strong>–占8位，指出该数据报携带的数据使用何种协议，以便目的主机的IP层将数据部分上交给相应的进程。</li>
<li><strong>首部检验和</strong>–占16位，只检验数据报的首部，不检验数据部分。这里不采用CRC检验码而采用简单的计算方法，16位二进制反码求和算法。</li>
<li><strong>源地址和目的地址</strong>–四个字节</li>
<li><strong>IP数据报首部的可变部分</strong>–IP首部的可变部分就是一个选项字段，用来支持排错、测量以及安全等措施，内容很丰富。增加首部的可变部分就是为了增加IP数据报的功能，但这同时也使得IP数据报的首部长度成为可变的，这就增加了每一个路由器处理数据报的开销。</li>
</ul>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>	</p>

        <h1 id="IP层转发分组的过程">
          <a href="#IP层转发分组的过程" class="heading-link"><i class="fas fa-link"></i></a><a href="#IP层转发分组的过程" class="headerlink" title="IP层转发分组的过程"></a>IP层转发分组的过程</h1>
      
        <h2 id="基于终点的转发">
          <a href="#基于终点的转发" class="heading-link"><i class="fas fa-link"></i></a><a href="#基于终点的转发" class="headerlink" title="基于终点的转发"></a>基于终点的转发</h2>
      <ul>
<li>基于终点的转发：分组在互联网上传送和转发是基于分组首部中的目的地址的。</li>
<li>基于终点的转发过程：先查找目的网络（网络前缀），在找到了目的网络之后，就把分组在这个网络上直接交付目的主机。由于互联网上的网络数远小于主机数，这样就可以大大压缩转发表的大小，加速分组在路由器中的转发。</li>
<li>待转发的分组怎样找到下一跳路由器？<ul>
<li>路由器收到一个待转发的分组，从转发表得出下一跳路由器的IP地址</li>
<li>将IP地址送交数据链路层的网络接口软件，它负责把下一跳路由器的IP地址转换为MAC地址（必须使用ARP）</li>
<li>将此MAC地址放在链路层的MAC帧的首部，然后利用这个MAC地址传送到下一跳路由器的链路层，再取出MAC帧的数据部分，交给网络层。</li>
</ul>
</li>
<li>为什么在转发表中不使用MAC地址，而要用IP地址？<ul>
<li>使用抽象的IP地址，就是为了隐蔽各种底层网络的复杂性而便于分析和研究问题，这样就不可避免地要付出些代价，例如在选择路由时多了一些开销。</li>
<li>使用MAC地址会带来更多地麻烦，甚至无法找到对方的机器。</li>
</ul>
</li>
<li>查找转发表的过程就是寻找前缀匹配的过程</li>
</ul>

        <h2 id="最长前缀匹配">
          <a href="#最长前缀匹配" class="heading-link"><i class="fas fa-link"></i></a><a href="#最长前缀匹配" class="headerlink" title="最长前缀匹配"></a>最长前缀匹配</h2>
      <ul>
<li>路由聚合：把子网的地址聚合为一个网络前缀？</li>
<li>最长前缀匹配：在采用CIDR编址时，如果一个分组在转发表中可以找到多个匹配的前缀，那么就应当选择前缀最长的一个作为匹配的前缀</li>
<li>两种特殊路由<ul>
<li><strong>主机路由：</strong>又叫做特定主机路由，这是对特定目的主机的IP地址专门指明的一个路由<ul>
<li>可使网络管理人员更方便地控制网络和测试网络，同时也可在考虑某种安全问题时采用这种特定主机路由</li>
<li>在对网络的连接或转发表进行排错时，指明到某一台主机的特殊路由就十分有用。</li>
<li>a.b.c.d&#x2F;32</li>
<li>主机路由在转发表中都放在最前面</li>
</ul>
</li>
<li><strong>默认路由：</strong>不管分组的最终目的网络在哪儿，都由指定的路由器处理<ul>
<li>这种网络只有很少的对外连接时非常有用</li>
<li>0.0.0.0&#x2F;32</li>
</ul>
</li>
</ul>
</li>
<li>分组转发算法<ol>
<li>从收到的分组的首部提取目的主机的IP地址D。</li>
<li>若查找到有特定主机路由，就按照这条路由的下一跳转发分组；否则从转发表中下一行开始检查。  </li>
<li>把这一行的子网掩码与目的地址D按位进行AND运算<ul>
<li>若运算结果与本行的前缀匹配，则查找结束，按照下一跳所指出的进行处理</li>
<li>否则，若转发表还有下一行，则对下一行进行检查，重新执行3；若没有，则执行4。</li>
</ul>
</li>
<li>若转发表中有一个默认路由，则按照指明的接口，把分组传送到指明的默认路由器；否则，报告转发分组出错。</li>
</ol>
</li>
</ul>

        <h2 id="使用二叉线索查找转发表">
          <a href="#使用二叉线索查找转发表" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用二叉线索查找转发表" class="headerlink" title="使用二叉线索查找转发表"></a>使用二叉线索查找转发表</h2>
      <ul>
<li>使用CIDR后，由于不知道目的网络的前缀，使转发表的查找过程变得更加复杂了</li>
<li>要将二叉线索运用于转发表中，还必须使二叉线索中的每一个叶节点包含所对应的网络前缀和子网掩码。</li>
<li>二叉线索只是提供了一种可以快速在转发表中找到匹配的叶节点的机制。</li>
</ul>

        <h1 id="IPv6">
          <a href="#IPv6" class="heading-link"><i class="fas fa-link"></i></a><a href="#IPv6" class="headerlink" title="IPv6"></a>IPv6</h1>
      
        <h1 id="从IPv4到IPv6的过渡">
          <a href="#从IPv4到IPv6的过渡" class="heading-link"><i class="fas fa-link"></i></a><a href="#从IPv4到IPv6的过渡" class="headerlink" title="从IPv4到IPv6的过渡"></a>从IPv4到IPv6的过渡</h1>
      <p>IPv4到IPv6的过渡只能采用逐步演进的方法，必须使新安装的IPv6系统能够<strong>向后兼容</strong>。（IPv6系统必须能够接受和转发IPv4分组，并且能够为IPv4分组选择路由）</p>

        <h2 id="双协议栈">
          <a href="#双协议栈" class="heading-link"><i class="fas fa-link"></i></a><a href="#双协议栈" class="headerlink" title="双协议栈"></a>双协议栈</h2>
      <ul>
<li>在完全过渡到 IPv6 之前，使一部分主机（或路由器）装有两个协议栈，一个 IPv4 和一个 IPv6。 </li>
<li>双协议栈主机在和 IPv6 主机通信时是采用 IPv6 地址，而和 IPv4 主机通信时就采用 IPv4 地址</li>
<li>根据域名系统和 DNS 返回的地址类型可以确定使用 IPv4 地址还是 IPv6 地址</li>
<li>付出代价太大，最好使用隧道技术</li>
</ul>

        <h2 id="隧道技术">
          <a href="#隧道技术" class="heading-link"><i class="fas fa-link"></i></a><a href="#隧道技术" class="headerlink" title="隧道技术"></a>隧道技术</h2>
      <ul>
<li>在 IPv6 数据报要进入 IPv4 网络时，把 IPv6 数据报封装成为 IPv4 数据报，整个的 IPv6 数据报变成了 IPv4 数据报的数据部分。</li>
<li>当 IPv4 数据报离开 IPv4 网络中的隧道时，再把数据部分（即原来的 IPv6 数据报）交给主机的 IPv6 协议栈。</li>
</ul>

        <h2 id="ICMPv6">
          <a href="#ICMPv6" class="heading-link"><i class="fas fa-link"></i></a><a href="#ICMPv6" class="headerlink" title="ICMPv6"></a>ICMPv6</h2>
      <ul>
<li>IPv6 也不保证数据报的可靠交付，因为互联网中的路由器可能会丢弃数据报,因此 IPv6 也需要使用 ICMP 来反馈一些差错信息。新的版本称为 ICMPv6。</li>
<li>地址解析协议 ARP 和网际组管理协议 IGMP 协议的功能都已被合并到 ICMPv6 中。</li>
<li>ICMPv6 是面向报文的协议，它利用报文来报告差错，获取信息，探测邻站或管理多播通信。</li>
<li>ICMPv6 还增加了几个定义报文的功能及含义的其他协议。<br><img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/6.png"></li>
</ul>

        <h1 id="互联网的路由选择协议">
          <a href="#互联网的路由选择协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#互联网的路由选择协议" class="headerlink" title="互联网的路由选择协议"></a>互联网的路由选择协议</h1>
      <p>路由选择协议规定了互联网中有关的路由器应如何相互交换信息并生成出路由表。</p>

        <h2 id="有关路由选择协议的几个基本概念">
          <a href="#有关路由选择协议的几个基本概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#有关路由选择协议的几个基本概念" class="headerlink" title="有关路由选择协议的几个基本概念"></a>有关路由选择协议的几个基本概念</h2>
      
        <h3 id="理想的路由算法">
          <a href="#理想的路由算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#理想的路由算法" class="headerlink" title="理想的路由算法"></a>理想的路由算法</h3>
      <ul>
<li>路由算法：获得路由表中的各个项目</li>
<li>理想的路由算法具有的特点<ul>
<li>算法必须是正确的和完整的。 </li>
<li>算法在计算上应简单。 </li>
<li>算法应能适应通信量和网络拓扑的变化，这就是说，要有自适应性。 </li>
<li>算法应具有稳定性。 </li>
<li>算法应是公平的。 </li>
<li>算法应是最佳的。</li>
</ul>
</li>
<li>从路由算法能否随网络的通信量或拓扑自适应地进行调整变化来划分，则只有两大类<ul>
<li>静态路由选择策略（非自适应路由选择）：简单开销小，但不能及时适应网络状态地变化。</li>
<li>动态路由选择（自适应路由选择）：能较好地适应网络状态的变化，但实现起来较为复杂，开销也比较大。</li>
</ul>
</li>
</ul>

        <h3 id="分层次的路由选择协议">
          <a href="#分层次的路由选择协议" class="heading-link"><i class="fas fa-link"></i></a><a href="#分层次的路由选择协议" class="headerlink" title="分层次的路由选择协议"></a>分层次的路由选择协议</h3>
      <ul>
<li>互联网采用分层次的路由选择协议的原因<ul>
<li>互联网的规模非常大。如果让所有的路由器知道所有的网络应怎样到达，则这种路由表将非常大，处理起来也太花时间。而所有这些路由器之间交换路由信息所需的带宽就会使互联网的通信链路饱和。</li>
<li>许多单位不愿意外界了解自己单位网络的布局细节和本部门所采用的路由选择协议（这属于本部门内部的事情），但同时还希望连接到互联网上。</li>
</ul>
</li>
<li>自治系统AS<ul>
<li>定义:<strong>在单一的技术管理下的许多网络、IP地址以及路由器</strong>，而这些路由器使用一种 AS 内部的路由选择协议和共同的度量以确定分组在该 AS 内的路由，同时还使用一种 AS 之间的路由选择协议用以确定分组在 AS之间的路由。</li>
<li>尽管一个 AS 使用了多种内部路由选择协议和度量，但重要的是一个 AS 对其他 AS 表现出的是一个单一的和一致的路由选择策略。</li>
</ul>
</li>
<li>两大类路由选择协议<ul>
<li>内部网关协议IGP<ul>
<li>在一个自治系统内部使用的路由选择协议</li>
<li>目前这类路选择协议使用的最多，如RIP和ODPF协议</li>
</ul>
</li>
<li>外部网关协议EGP<ul>
<li>若源站和目的站处在不同的自治系统中，当数据报传到一个自治系统的边界时，就需要使用一种协议将路由选择信息传递到另一个自治系统中。</li>
<li>在外部网关协议中目前使用最多的就是BGP-4.</li>
</ul>
</li>
</ul>
</li>
<li>自治系统之间的路由选择也叫做<strong>域间路由选择</strong>，而自治系统内部的路由选择叫做<strong>域内路由选择</strong>。</li>
</ul>

        <h2 id="内部网关协议RIP">
          <a href="#内部网关协议RIP" class="heading-link"><i class="fas fa-link"></i></a><a href="#内部网关协议RIP" class="headerlink" title="内部网关协议RIP"></a>内部网关协议RIP</h2>
      
        <h3 id="协议RIP的工作原理">
          <a href="#协议RIP的工作原理" class="heading-link"><i class="fas fa-link"></i></a><a href="#协议RIP的工作原理" class="headerlink" title="协议RIP的工作原理"></a>协议RIP的工作原理</h3>
      <ul>
<li>RIP是一种分布式的、基于向量的路由选择协议</li>
<li>RIP 协议要求网络中的每一个路由器都要维护从它自己到其他每一个目的网络的距离记录。 </li>
<li>距离的定义<ul>
<li>从一个路由器直接连接的网络定义为1</li>
<li>从一个路由器到非直接连接的网络的距离定义为所经过的路由器数加 1。</li>
<li>RIP 协议中的“距离”也称为“跳数”(hop count)，因为每经过一个路由器，跳数就加 1。</li>
<li>这里的“距离”实际上指的是“最短距离”。 </li>
<li>RIP 认为一个好的路由就是它通过的路由器的数目少，即“距离短”。</li>
<li>RIP 允许一条路径最多只能包含 15 个路由器。</li>
<li>“距离”的最大值为 16 时即相当于不可达。可见 RIP 只适用于小型互联网。</li>
<li>RIP 不能在两个网络之间同时使用多条路由。RIP 选择一个具有最少路由器的路由（即最短路由），哪怕还存在另一条高速(低时延)但路由器较多的路由。</li>
</ul>
</li>
<li>RIP协议的三个特点<ul>
<li>仅和相邻路由器交换信息</li>
<li>交换的信息是当前本路由器所知道的全部信息，即自己的路由表。 </li>
<li>按固定的时间间隔交换路由信息，例如，每隔 30 秒。当网络拓扑发生变化时，路由器也及时向相邻路由器通告拓扑变化后的路由信息。</li>
</ul>
</li>
</ul>

        <h3 id="距离向量算法">
          <a href="#距离向量算法" class="heading-link"><i class="fas fa-link"></i></a><a href="#距离向量算法" class="headerlink" title="距离向量算法"></a>距离向量算法</h3>
      <ul>
<li><p>路由器收到相邻路由器（其地址为X）的一个RIP报文</p>
<ol>
<li>先修改此 RIP 报文中的所有项目：把“下一跳”字段中的地址都改为 X，并把所有的“距离”字段的值加 1。</li>
<li>对修改后的 RIP 报文中的每一个项目，重复以下步骤：<ul>
<li>若项目中的目的网络不在路由表中，则把该项目加到路由表中。</li>
<li>否则<ul>
<li>若下一跳字段给出的路由器地址是同样的，则把收到的项目替换原路由表中的项目。<ul>
<li>否则 <ul>
<li>若收到项目中的距离小于路由表中的距离，则进行更新，</li>
<li>否则，什么也不做。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>若 3 分钟还没有收到相邻路由器的更新路由表，则把此相邻路由器记为不可达路由器，即将距离置为 16（表示不可达）。</li>
<li>返回。<br> <img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/7.png"></li>
</ol>
</li>
<li><p>这种算法的要设X是结点 A 到 B 的最短路径上的一个结点。若把路径 A→B 拆成两段路径 A→X 和 X→B，则每一段路径 A→X 和 X→B 也都分别是结点 A 到 X 和结点 X 到 B 的最短路径</p>
</li>
<li><p>RIP 协议让互联网中的所有路由器都和自己的相邻路由器不断交换路由信息，并不断更新其路由表，使得从每一个路由器到每一个目的网络的路由都是最短的（即跳数最少）。</p>
</li>
<li><p>虽然所有的路由器最终都拥有了整个自治系统的全局路由信息，但由于每一个路由器的位置不同，它们的路由表当然也应当是不同的。 </p>
</li>
<li><p>RIP2协议的报文格式<br><img src="/2023/06/11/%E8%AE%A1%E7%BD%91%E2%80%94%E7%BD%91%E7%BB%9C%E5%B1%82/8.png">  </p>
<ul>
<li>RIP报文由首部和路由部分组成</li>
<li>在路由部分要填入自治系统号，这是考虑有可能受到本自治系统以外的路由选择信息</li>
<li>还要指出目的网络地址（包括网络的子网掩码），下一跳路由地址以及到此网络的距离</li>
<li>一个RIP报文最多可包括25个路由</li>
</ul>
</li>
</ul>

        <h3 id="坏消息传播得慢">
          <a href="#坏消息传播得慢" class="heading-link"><i class="fas fa-link"></i></a><a href="#坏消息传播得慢" class="headerlink" title="坏消息传播得慢"></a>坏消息传播得慢</h3>
      <ul>
<li>RIP 存在的一个问题：当网络出现故障时，要经过比较长的时间 (例如数分钟) 才能将此信息传送到所有的路由器。</li>
<li>RIP协议的优缺点：<ul>
<li>优点：实现简单，开销较小</li>
<li>缺点：<ol>
<li>RIP 限制了网络的规模，它能使用的最大距离为 15（16 表示不可达）。</li>
<li>路由器之间交换的路由信息是路由器中的完整路由表，因而随着网络规模的扩大，开销也就增加。 </li>
<li>“坏消息传播得慢”，使更新过程的收敛时间过长。</li>
</ol>
</li>
</ul>
</li>
</ul>

        <h2 id="内部网关协议OSPF">
          <a href="#内部网关协议OSPF" class="heading-link"><i class="fas fa-link"></i></a><a href="#内部网关协议OSPF" class="headerlink" title="内部网关协议OSPF"></a>内部网关协议OSPF</h2>
      <ul>
<li>开放最短路径优先OSPF的原理很简单，但实现起来却很复杂<ul>
<li>“开放”表明 OSPF 协议不是受某一家厂商控制，而是公开发表的。</li>
<li>“最短路径优先”是因为使用了 Dijkstra 提出的最短路径算法 SPF</li>
<li>采用分布式的链路状态协议 (link state protocol)。</li>
</ul>
</li>
<li>OSPF协议的特点<ul>
<li>向本自治系统中所有路由器发送信息，这里使用的方法是洪泛法。</li>
<li>发送的信息就是与本路由器相邻的所有路由器的链路状态，但这只是路由器所知道的部分信息。<ul>
<li>“链路状态”就是说明本路由器都和哪些路由器相邻，以及该链路的“度量”(metric)。</li>
<li>“度量”用来表示费用、距离、时延、带宽等</li>
</ul>
</li>
<li>当链路状态发生变化（或每隔一段时间，如30分钟）时，路由器才用洪泛法向所有路由器发送此信息。</li>
</ul>
</li>
<li>链路状态数据库<ul>
<li>由于各路由器之间频繁地交换链路状态信息，因此所有的路由器最终都能建立一个链路状态数据库。</li>
<li>这个数据库实际上就是全网的拓扑结构图，它在全网范围内是一致的（这称为链路状态数据库的同步）。</li>
<li>OSPF 的链路状态数据库能较快地进行更新，使各个路由器能及时更新其路由表。</li>
<li>OSPF 的更新过程收敛得快是其重要优点。</li>
</ul>
</li>
</ul>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ END ------</div></div><div class="post-tags"><span class="post-tags-item"><span class="post-tags-item__icon"><i class="fas fa-tag"></i></span><a class="post-tags-item__link" href="https://icreame.github.io/tags/%E5%AD%A6%E4%B9%A0/">学习</a></span></div><div class="post-share"><div class="social-share" data-sites="qzone, qq, weibo, wechat, douban, linkedin, facebook, twitter, google">Share to: </div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2023/06/11/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">人工智能</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2023/05/31/FootballGame/"><span class="paginator-prev__text">FootballGame</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div><div class="comments" id="comments"><div id="waline-container"></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">Catalog</span><span class="sidebar-nav-ov">Overview</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9A%84%E5%87%A0%E4%B8%AA%E9%87%8D%E8%A6%81%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">
          网络层的几个重要概念</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E6%8F%90%E4%BE%9B%E7%9A%84%E4%B8%A4%E7%A7%8D%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.</span> <span class="toc-text">
          网络层提供的两种服务</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%99%9A%E7%94%B5%E8%B7%AF%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          虚电路服务</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%9C%8D%E5%8A%A1"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          数据报服务</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B1%82%E9%9D%A2"><span class="toc-number">1.2.</span> <span class="toc-text">
          网络层的两个层面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B1%82%E9%9D%A2"><span class="toc-number">1.2.1.</span> <span class="toc-text">
          数据层面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E5%B1%82%E9%9D%A2"><span class="toc-number">1.2.2.</span> <span class="toc-text">
          控制层面</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AEIP"><span class="toc-number">2.</span> <span class="toc-text">
          网际协议IP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E4%BA%92%E8%BF%9E%E7%BD%91%E7%BB%9C"><span class="toc-number">2.1.</span> <span class="toc-text">
          虚拟互连网络</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-number">2.2.</span> <span class="toc-text">
          IP地址</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E5%8F%8A%E5%85%B6%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">
          IP地址及其表示方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="toc-number">2.2.2.</span> <span class="toc-text">
          分类的IP地址</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E4%B8%8E%E7%A1%AC%E4%BB%B6%E5%9C%B0%E5%9D%80"><span class="toc-number">2.3.</span> <span class="toc-text">
          IP地址与硬件地址</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%B0%E5%9D%80%E8%A7%A3%E6%9E%90%E5%8D%8F%E8%AE%AEARP"><span class="toc-number">2.4.</span> <span class="toc-text">
          地址解析协议ARP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E6%95%B0%E6%8D%AE%E6%8A%A5%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="toc-number">2.5.</span> <span class="toc-text">
          IP数据报的格式</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IP%E5%B1%82%E8%BD%AC%E5%8F%91%E5%88%86%E7%BB%84%E7%9A%84%E8%BF%87%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">
          IP层转发分组的过程</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E7%BB%88%E7%82%B9%E7%9A%84%E8%BD%AC%E5%8F%91"><span class="toc-number">3.1.</span> <span class="toc-text">
          基于终点的转发</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%80%E9%95%BF%E5%89%8D%E7%BC%80%E5%8C%B9%E9%85%8D"><span class="toc-number">3.2.</span> <span class="toc-text">
          最长前缀匹配</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BA%8C%E5%8F%89%E7%BA%BF%E7%B4%A2%E6%9F%A5%E6%89%BE%E8%BD%AC%E5%8F%91%E8%A1%A8"><span class="toc-number">3.3.</span> <span class="toc-text">
          使用二叉线索查找转发表</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#IPv6"><span class="toc-number">4.</span> <span class="toc-text">
          IPv6</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8EIPv4%E5%88%B0IPv6%E7%9A%84%E8%BF%87%E6%B8%A1"><span class="toc-number">5.</span> <span class="toc-text">
          从IPv4到IPv6的过渡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8C%E5%8D%8F%E8%AE%AE%E6%A0%88"><span class="toc-number">5.1.</span> <span class="toc-text">
          双协议栈</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9A%A7%E9%81%93%E6%8A%80%E6%9C%AF"><span class="toc-number">5.2.</span> <span class="toc-text">
          隧道技术</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ICMPv6"><span class="toc-number">5.3.</span> <span class="toc-text">
          ICMPv6</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%92%E8%81%94%E7%BD%91%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.</span> <span class="toc-text">
          互联网的路由选择协议</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%89%E5%85%B3%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE%E7%9A%84%E5%87%A0%E4%B8%AA%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">6.1.</span> <span class="toc-text">
          有关路由选择协议的几个基本概念</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%90%86%E6%83%B3%E7%9A%84%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95"><span class="toc-number">6.1.1.</span> <span class="toc-text">
          理想的路由算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%86%E5%B1%82%E6%AC%A1%E7%9A%84%E8%B7%AF%E7%94%B1%E9%80%89%E6%8B%A9%E5%8D%8F%E8%AE%AE"><span class="toc-number">6.1.2.</span> <span class="toc-text">
          分层次的路由选择协议</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AERIP"><span class="toc-number">6.2.</span> <span class="toc-text">
          内部网关协议RIP</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AERIP%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">6.2.1.</span> <span class="toc-text">
          协议RIP的工作原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="toc-number">6.2.2.</span> <span class="toc-text">
          距离向量算法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9D%8F%E6%B6%88%E6%81%AF%E4%BC%A0%E6%92%AD%E5%BE%97%E6%85%A2"><span class="toc-number">6.2.3.</span> <span class="toc-text">
          坏消息传播得慢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%86%85%E9%83%A8%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AEOSPF"><span class="toc-number">6.3.</span> <span class="toc-text">
          内部网关协议OSPF</span></a></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/null.jpg" alt="avatar"></div><p class="sidebar-ov-author__text">小池塘边跌坐看鱼，槐花院落闲散人，眉挑烟火过一生。</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="2921672479" target="_blank" rel="noopener" data-popover="QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">30</div><div class="sidebar-ov-state-item__name">Archives</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--categories" href="/categories/"><div class="sidebar-ov-state-item__count">7</div><div class="sidebar-ov-state-item__name">Categories</div></a><a class="sidebar-ov-state-item sidebar-ov-state-item--tags" href="/tags/"><div class="sidebar-ov-state-item__count">10</div><div class="sidebar-ov-state-item__name">Tags</div></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">You have read </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2023</span><span class="footer__devider"></span><span>ic</span></div><div><span>Powered by <a href="http://hexo.io/" title="Hexo" target="_blank" rel="noopener">Hexo</a></span><span> v6.3.0</span></div><div>温柔且上进</div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/social-share.js@1.0.16/dist/js/social-share.min.js"></script><script src="https://unpkg.com/@waline/client/dist/Waline.min.js"></script><script>function loadWaline () {
  var GUEST_INFO = ['nick', 'mail', 'link'];
  var guest_info = 'nick,mail,link';

  guest_info = guest_info.split(',').filter(function(item) {
    return GUEST_INFO.indexOf(item) > -1;
  });

  new Waline({
    el: '#waline-container',
    serverURL: 'https://icic-coral.vercel.app',
    placeholder: 'Just go go',
    pageSize: '10' || 10,
    lang: '' || 'zh-cn',
    visitor: false,
    avatar: 'mp',
    path: window.location.pathname,
    meta: guest_info
  });
}

if (false) {
  loadWaline();
} else {
  window.addEventListener('DOMContentLoaded', loadWaline, false);
}</script><script src="/js/utils.js?v=2.6.2"></script><script src="/js/stun-boot.js?v=2.6.2"></script><script src="/js/scroll.js?v=2.6.2"></script><script src="/js/header.js?v=2.6.2"></script><script src="/js/sidebar.js?v=2.6.2"></script></body></html>